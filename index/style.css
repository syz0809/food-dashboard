/* ================== 全局与主题变量 ================== */
:root{
  --primary:#e53935;          /* 主红 */
  --primary-dark:#c62828;
  --accent:#ffcc00;           /* 强调黄 */
  --bg:#fff6ef;               /* 奶油底色 */
  --card:#ffffff;
  --text:#262626;
  --muted:#8c8c8c;
  --success:#16a34a;
  --danger:#ef4444;
  --radius:18px;
  --shadow:0 10px 30px rgba(0,0,0,.08);
}
*{box-sizing:border-box}
html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial}
a{color:inherit;text-decoration:none}
.container{max-width:1200px;margin:0 auto;padding:0 20px}

/* ================== 顶部导航 ================== */
.topbar{
  background:linear-gradient(180deg,#ff594a 0%, var(--primary) 60%);
  color:#fff; position:relative; overflow:hidden;
  z-index: 1;
}
.nav{
  display:flex;align-items:center;justify-content:space-between;
  padding:16px 0;
}
.brand{display:flex;align-items:center;gap:10px;font-weight:800;font-size:22px;letter-spacing:.5px}
.brand .logo{
  width:36px;height:36px;border-radius:50%;
  background:#ffd54f;display:grid;place-items:center;
  color:#a8322a;font-weight:900;
  box-shadow:inset 0 0 0 3px rgba(0,0,0,.08);
}
.nav-links{display:flex;gap:22px;font-weight:700;opacity:.95}
.nav-links a{opacity:.85}
.nav-links a.active{opacity:1;border-bottom:2px solid #fff;padding-bottom:2px}
.nav-tools{display:flex;gap:10px;align-items:center}
.input{
  background:#ffffff; border-radius:999px; padding:10px 14px; display:flex; align-items:center; gap:8px;
  box-shadow:var(--shadow);
}
.input input{border:none;outline:none;font-size:14px;width:190px}
.btn{
  background:#fff;color:var(--primary);border:none;border-radius:999px;
  padding:10px 16px;font-weight:800;cursor:pointer;box-shadow:var(--shadow)
}
.btn:hover{transform:translateY(-1px)}
.date{background:#fff;border-radius:999px;padding:8px 12px;color:#444;border:none;box-shadow:var(--shadow)}

/* ================== 顶部Hero ================== */
.hero{
  display:grid;grid-template-columns:1.2fr .8fr;gap:20px;align-items:center;padding:10px 0 34px;
}
.hero-card{
  background:#fff;border-radius:28px;padding:28px;box-shadow:var(--shadow);position:relative;overflow:hidden;min-height:230px;
}
.hero-card h1{margin:0 0 10px;font-size:36px;line-height:1.1}
.hero-card p{margin:0 0 18px;color:#555}
.hero-badge{
  display:inline-flex;align-items:center;gap:8px;background:#000;color:#fff;padding:8px 12px;border-radius:999px;font-weight:800;font-size:13px
}
.hero-cta{display:flex;gap:12px;margin-top:6px}
.btn-primary{background:var(--accent);color:#111}
.btn-ghost{background:#fff;color:#111}
.hi{color:#ffdd3f}
.hero-img{
  position:absolute;right:-10px;bottom:-30px;width:340px;opacity:.95;transform:rotate(-2deg);
  filter: drop-shadow(0 20px 50px rgba(0,0,0,.25));
}
.side-banners{display:grid;gap:20px}
.banner{
  background:linear-gradient(135deg,#fff 0%, #ffe3cc 100%);border-radius:24px;padding:22px;box-shadow:var(--shadow);display:flex;align-items:center;justify-content:space-between;min-height:105px;overflow:hidden;
}
.banner h3{color:#000;margin:0 0 6px}
.banner small{color:#666}
.banner .art{height:100px;opacity:.95}
.banner.yellow{background:linear-gradient(135deg,#fff9c4 0%, #ffe082 100%)}
.banner.red{background:linear-gradient(135deg,#ffd6d6 0%, #ffc3c3 100%)}

/* ================== 分类条（修复偏移） ================== */
.categories{
  position: sticky; top: 0; z-index: 2;
  background:#fff;border-radius:30px;display:flex;gap:14px;align-items:center;padding:12px 16px;margin:12px 0 20px;
  box-shadow:var(--shadow);overflow:auto
}
.chip{
  display:flex;align-items:center;gap:8px;padding:9px 14px;border-radius:999px;background:#fff6f0;border:1px solid #ffd6cc;white-space:nowrap;cursor:pointer;font-weight:700;font-size:14px
}
.chip.active{background:var(--primary);color:#fff;border-color:transparent}
.chip .emoji{font-size:18px}

/* ================== 平台宫格/概览 ================== */
.overview{display:grid;grid-template-columns:2fr 1fr;gap:20px;margin:10px 0 24px}
.platforms{background:var(--card);border-radius:20px;box-shadow:var(--shadow);padding:18px}
.section-head{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
.h3{margin:0}
.grid-plat{display:grid;grid-template-columns:repeat(3,1fr);gap:14px}
.plat{background:#fff;border-radius:16px;padding:14px;box-shadow:var(--shadow);display:flex;gap:12px;align-items:center;position:relative;overflow:hidden}
.plat .icon{width:46px;height:46px;border-radius:50%;display:grid;place-items:center;color:#fff;font-weight:900}
.mt{background:#ffcc00;color:#7a4800}
.elm{background:#3ec6ff}
.dazhong{background:#ff6b6b}
.jd{background:#ff4444}
.dy{background:#000}
.xhs{background:#ff2442}
.plat .meta{font-size:12px;color:#666}
.trend{position:absolute;right:10px;bottom:10px;font-weight:800}
.trend.up{color:var(--success)} .trend.down{color:var(--danger)}
.score{font-weight:800;font-size:18px}

.summary{background:var(--card);border-radius:20px;box-shadow:var(--shadow);padding:18px;display:grid;gap:12px}
.kpis{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
.kpi{background:#fff;border-radius:16px;padding:16px;box-shadow:var(--shadow)}
.kpi .label{color:#666;font-size:12px}
.kpi-num{font-weight:800;font-size:22px}
.kpi-row{display:flex;justify-content:space-between;align-items:center}
.progress{height:8px;background:#f2f2f2;border-radius:999px;overflow:hidden;margin-left:12px;flex:1}
.progress > i{display:block;height:100%;background:linear-gradient(90deg,#ffb703,#ff5400)}

/* ================== 主体 ================== */
.main{display:grid;grid-template-columns:2fr 1fr;gap:20px;margin-bottom:40px}
.card{background:#fff;border-radius:20px;box-shadow:var(--shadow);padding:18px}
.card.wide{grid-column:1 / -1}
.title{margin:0 0 12px;font-size:18px}
.title-sm{font-size:16px}
.list{display:grid;gap:12px}
.review{display:grid;grid-template-columns:auto 1fr auto;gap:12px;align-items:start;background:#fff;border:1px solid #f0f0f0;border-radius:14px;padding:12px}
.avatar{width:42px;height:42px;border-radius:50%;background:#ffe7e1;display:grid;place-items:center;font-weight:800;color:#d94841}
.review .content{font-size:14px;line-height:1.4}
.tag{display:inline-block;background:#fff5d1;color:#8a5d00;padding:4px 8px;border-radius:999px;font-weight:800;font-size:12px;margin-left:6px}
.pill{display:inline-flex;align-items:center;gap:6px;background:#f2f2f2;border-radius:999px;padding:6px 10px;font-size:12px;margin:4px 6px 0 0}
.star{color:#ff9f0a}
.platform-mark{font-size:12px;color:#666}

/* 关键词 pills 容器与折线图之间留出空间 */
.chips{display:flex;flex-wrap:wrap; margin-bottom:8px;}

.keyword{background:#fff7f0;border:1px solid #ffd6cc;color:#a1422b}
.keyword.active{background:var(--primary);border-color:transparent;color:#fff}

/* 折线图画布高度 & 顶部间距，避免“贴顶” */
.miniChart{width:100%;height:200px; display:block; margin-top:6px}
.pie{width:100%;height:220px}

/* ================== 菜品卡 ================== */
.dishes{margin-top:4px;display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
.dish{background:#fff;border-radius:22px;box-shadow:var(--shadow);padding:16px;display:grid;gap:10px}
.dish img{width:100%;height:170px;object-fit:cover;border-radius:18px}
.price{font-weight:800}
.muted{color:#888}

/* ================== 页脚 ================== */
.footer{padding:30px 0 50px;color:#777;text-align:center}

/* ================== 响应式 ================== */
@media (max-width:992px){
  .hero{grid-template-columns:1fr}
  .overview{grid-template-columns:1fr}
  .main{grid-template-columns:1fr}
  .grid-plat{grid-template-columns:repeat(2,1fr)}
  .dishes{grid-template-columns:repeat(2,1fr)}
  .hero-img{position:static;width:100%;transform:none;margin-top:10px}
}
@media (max-width:540px){
  .nav-links{display:none}
  .dishes{grid-template-columns:1fr}
  .grid-plat{grid-template-columns:1fr}
  .input input{width:120px}
}

/* 让左右两栏按内容高度排列，左侧不再被右侧“撑高” */
.overview{ align-items: start; }
/* 左侧平台卡的整体只按内容高度 */
.platforms{ align-self: start; }
/* 平台网格：改为 2 列（更高、更少底部空白），并加行间距 */
.grid-plat{
  grid-template-columns: repeat(2, minmax(260px, 1fr));
  gap: 16px 18px;
}
/* 小屏保持 2 列或 1 列的自适应 */
@media (max-width: 992px){ .grid-plat{ grid-template-columns: repeat(2, 1fr); } }
@media (max-width: 540px){ .grid-plat{ grid-template-columns: 1fr; } }

/* ===== 折线图悬浮提示与标注 ===== */
.line-tooltip{
  position:absolute; pointer-events:none; background:#111; color:#fff;
  font-size:12px; padding:6px 8px; border-radius:8px;
  box-shadow:0 6px 16px rgba(0,0,0,.2); transform:translate(-50%,-120%);
  white-space:nowrap; z-index: 3;
}
.line-tooltip::after{
  content:""; position:absolute; left:50%; transform:translateX(-50%);
  bottom:-6px; border:6px solid transparent; border-top-color:#111;
}

/* 滚动到评论区时顶部不要被吸顶的分类条遮住 */
#reviews{ scroll-margin-top: 90px; }
